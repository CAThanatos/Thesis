\section{Introduction}

  In this chapter, our goal is to model the proximate mechanisms in the evolution of coordination and study their effects on the ultimate emergence of cooperation. As in most fields of science, modeling is a standard approach to study problems that cannot be understood by observing the physical world. Thus models are now commonly accepted in the realm of evolutionary biology, even if this may not have been the case for a longer period of time than in other scientific fields (e.g. physics)~\parencite{Shou2015}. 

  As said in the Introduction of this manuscript, we choose evolutionary robotics as our modeling technique to this problem. However, we deliberately only briefly justified this choice hitherto. This manuscript is composed of two main parts which, while related, represent different scientific questions in very different fields. As such, we consider that it would be more convenient for reading that any justification about the modeling choice would be placed here. Thus, the next Subsections will be devoted to that task. We will first focus on the empirical works that have been interested in studying evolution and the evolution of cooperation in general. Then we will talk about the different modeling approaches used in the field of evolutionary biology. To that end, we will distinguish between the more classical methods of modeling in evolution and the computational methods that arose with the availability of computers. This will finally give us the opportunity to motivate the use of evolutionary robotics in light of the set of models available.


  \subsection{Why Model the Evolution of Cooperation}

    In this chapter, our approach is one of modeling the evolution of cooperation. In this present Subsection however, we are interested in briefly reviewing the more empirical study of evolution. In this way, our goal is thus to motivate the common need to use models in understanding evolutionary phenomenons.

    Everything that we contemplate now is the consequence of thousands of millions years of evolution; the earliest appearance of life is dated to $4000$ millions years ago and a little more than $2000$ millions for the eukaryotes. The time scales involved in the evolutionary process are such that we cannot directly observe evolution but rather try to understand how it could have taken place. This means that we are mostly left with evidences from the past. In consequences, a large part of our empirical understanding comes from paleontologists. A copious amount of work in particular has been dedicated to studying the social life of our hominin ancestors. For example, paleontological were used to know the diet of early hominins. More importantly, those records reveal a strong correlation in our ancestors between the switch to a more energy-rich diet (e.g. meat) and the increase in the brain size of these ancestors~\parencite{Aiello1995, Wrangham1999}.

    This would suggest a coevolution between the transition to a rich diet and the appearance of social behaviours (which require higher brain functions~\parencite{Dunbar2007, Isler2012}). Theories on how exactly this transition shaped cooperation are diverse~\parencite{Pontzer2012}. Some think that this new diet could allow to adopt more diverse and more efficient hunting and scavenging techniques. Indeed, a richer diet would be necessary to develop the locomotive and cognitive skills necessary for both of these activities~\parencite{Aiello1995, Bramble2004}. Others argue that a shift in climatic conditions led the early hominins to rely more on underground storage organs. While this type of food is rich and available even under arid climate, its harvesting is difficult. This drove the selection for the capacity to share food among individuals, thus leading to cooperation~\parencite{OConnell2002}. It is also believed this led to cooking food which created a physical location where individuals would meet and thus create social dynamics~\parencite{Wrangham1999, Wrangham2009}. Therefore, those paleontologic evidence can be used to come up with hypothesis on how the selective pressures resulting from ecological conditions could shape the evolution of social behaviours.

    But theories can also be formulated by looking at the present rather than the past. In fact, most of the empirical work in studying the evolution of cooperation was achieved by directly observing animal behaviours (mostly non humans). While understanding the evolution of cooperation in any social animal is interesting on its own, it is also believed that it could help understand mankind could achieve such high levels of sociality. For example, convincing links have been made between the evolution of cooperation in humans and in social carnivores~\parencite{Schaller1969, Smith2012a} (which is also a strong argument in favor of the correlation between a transition to a rich diet comprised of meat and the evolution of cooperation). More generally, ethology (i.e. the study of animal behaviour), helps theorize the mechanisms which shaped the evolution of cooperation.

    For example, as previously explained in the Introduction, most research on the evolution of cooperation has been centered on studying the evolution of altruism. And as such, much research focus on finding evidence of kin selection in animals~\parencite{Bourke2014}. To that end, a copious amount of work has been dedicated to the evolution of eusociality. Only $2\%$ of insect species are eusocial but they represent most of the insect biomass~\parencite{Wilson2008}, the most obvious of representatives coming from the hymenoptera order (e.g. ants, bees or wasps). Those insects are known to exhibit astonishing levels of altruisms which have been explained by the inclusive fitness theory~\parencite{Bourke2011, Wilson2008}. The most convincing example is the presence of the reproductive division of labour. This means that only a certain "caste" of individuals will have the right to reproduce, which are called queens (or kings)~\parencite{Wilson1990}. As we mentionned while defining altruism, this seems to directly contradict the process of evolution where individuals are selected for their capacity to reproduce. However, it has been observed that colonies of eusocial individuals are composed of strongly related organisms. In particular, all members of the colony are offsprings of a single individual (i.e. the queen). This can explain how a "genetic trait" that encourage individuals to give up on their reproductive rights can spread in the population (because it helps spread the genes of genotypically similar individuals)~\parencite{Queller1998}.

    % Naked mole-rat ?

    But kin selection has also been investigated and successfully revealed in vertebrates. In particular, it has been shown that in most cooperative species of birds and mammals, social groups are small and composed of dominants breeders and their relatives~\parencite{Dugatkin1997, Clutton-Brock2002}. This explains the differences in breeding (what is called reproductive skew) between individuals of the same group and the rearing of youngs by individuals which are not their parents. The evolution of such highly cooperative behaviours can be explained by kin selection in the same way that reproductive division of labour exists in eusocial insects~\parencite{Bourke2011}. However, where kin selection was mandatory to explain the evolution of such altruism in eusociality, the importance of kin selection among vertebrates is much more debatable~\parencite{Griffin2003, Clutton-Brock2002}.

    In particular, ethology studies in verterbrates have in the past decades been focused on the importance of direct fitness benefits in cooperation. Progress in this direction are difficult because most of observations of cooperative actions in verterbrates are likely to result from a combination of both indirect and direct benefits~\parencite{Clutton-Brock2009}. However, while rare in comparison to cooperation inside strongly related groups, the presence of cooperation between unrelated individuals must be explained by direct benefits to fitness. In particular, the spotted hyenas are known to cooperate with kin and non-kin alike to achieve collective hunting and defense against other predators~\ref{Drea2009a, Smith2010, Smith2012a}. Thanks to field work on cooperative vertebrates, different theories on how could direct benefits take place in cooperative interactions have been proposed~\parencite{Clutton-Brock2002}. First, cooperative breeding could be explained by group augmentation. This means that individuals have a direct benefit in increasing group size: better protection against predators, more efficient catching and defense of food and the rearing of youngs~\parencite{Packer2001}. Secondly, a lot of cooperative interactions could be explained by mutual benefits (i.e. intraspecific mutualism). Primates are known to engage in mutual grooming and birds can build communal nests which directly benefit every participants. Obviously collective hunting can profit to every individuals by increasing the product of the hunt and decreasing the risk (both in term of being wounded by the prey and not being able to catch it)~\parencite{Scheel1991}. Finally, cooperation can be enforced through coercion where non-cooperative individuals could suffer punishment or eviction from the group. Reciprocity~\parencite{Trivers1971}, where individuals will cooperate with partners with which they previously interacted has often been proposed to explain cooperation between non-kin. However at the moment, there is no sufficient evidence that this type of behaviour occurs in other vertebrates than humans~\parencite{Hammerstein2003, Clutton-Brock2009, Andre2014}.

    % Je mentionne peu les primates ici. Ca serait bien d'en parler très rapidement (après tout on apprend pas beaucoup de choses vraiment différentes (voir même moins qu'avec les hyènes d'après Drea2009a))

    While different in the manner they are done, studies on cooperation in humans also obviously exist. Economists have been focused on human altruism and have produced experiments to display the existence of profound evidence of altruistic cooperation between non-kind~\parencite{Fehr2002, Fehr2003a}. Because kin selection only cannot be involved here, altruism in human societies is best explained by a pattern of rewards, reputation and punishment. In particular, they showed the importance of strong reciprocity between humans. While altruistic reciprocator will reward and punish individuals if they have a long-term interest~\parencite{Trivers1971}, strong reciprocators will do so anyway (i.e. in a stricly altruistic way). Fehr and Fischbacher~\parencite{Fehr2003a} argue that the evolution of human altruism cannot be only explained by gene-based evolutionary theory alone and advocate for of gene-culture coevolution.

    Because the subject of this dissertation is on the mechanisms of coordination involved in mutualistic actions, it is interesting also to note that some have also been interested in that aspect of human cooperation. For example, Michael Alvard has studied societies of traditional whale hunters of Lamalera in Indonesia~\parencite{Alvard1999, Alvard2003}. He has been interested in showing that in that case there is no relation between strong kinship and an increase in cooperation in these societies. Alvard thus argues for more mutualistic explanations for the evolution of coordinated actions. Moreoever, other studies have also been focused on the mechanisms with which humans coordinate to solve cooperation problems. For example, Bullinger and colleagues~\parencite{Bullinger2011, Duguid2014}, have studied how exactly chimpanzees and human childs coordinate in a stag hunt type of game. They have mostly focused on the role of communication and leadership strategies between individuals.

    Lastly, there is in particular conditions the possibility to direclty "watch" evolution happens. This is done in organism where evolution is a fast process: microorganisms~\parencite{Elena2003}. For example, Richard Lenski is known for his "Long-Term Evolution Experiment" on Escherichia coli~\parencite{Fox2015}. This experiment began in 1988, when Lenski set up $12$ populations of the same genotype of E. coli and observed their evolution since then. But more generally, bacteria are known to display acts of behaviours that can be caracterized as cooperative~\parencite{West2006}. For example, we previously talked about the public goods game to which bacteria participate when they produce nutrients which can be enjoyed by any other bacteria in the vicinity~\parencite{Harrison2013}. Some microorganisms are known to behave altruistically. For example, some cells of the slime mould Dictyostelium discoideum sacrifice themselves so that other cells can become spores and thus spread their genes~\parencite{Strassmann2000}. Thus microorganisms have been used to again validate kin selection and kin discrimination~\parencite{West2006}. In particular, while green beard mechanisms are though to be rare, D. discoideum have an exemple of this mechanisms, where one gene allows individuals to adhere to each other to cooperatively form fruiting bodies~\parencite{Queller2003}. But evidence of direct benefits between microorganisms have also been revealed. Mutualism (i.e. interspecific coopration) is frequent between microorganisms where it can provide direct by-product benefits. Evidence of punishing behaviours have also been shown in mutualism between plants and bacteria, like between leguminous plants and the rhizobial bacteria~\parencite{Kiers2003}. The bacteria fix $N_{2}$ at a cost which is supplied to the plant. The plant enforces cooperation by decreasing the supply of $O_{2}$ to the bacteria if they defect. To conclude, it also interesting to note that there are pratical medical applications for studying the evolution of cooperation in microorganisms as there exists a correlation between cooperation and the virulence of bacteria strains~\parencite{Foster2005}.


    In conclusion, empirical studies on the evolution of cooperation exist and are widespread. However, they have been a larger focus on studying the evolution of altruism and veryfing kin selection related theories. And even when mutualistic actions are considered, they rarely inform on the mechanistic constraints involved in the evolution of cooperative actions: proximate causes are hard to finely study when you can only observe the ultimate results of such a long process. In comparison, in the particular case of microorganisms, microbiologists are often concerned with proximate explanations of cooperation~\parencite{West2006}. However, they do not unfortunately offer the wide range of cooperative behaviours with which bigger organisms are concerned.

    % Parler de ce que dit Smith sur protection against predators ?
    % Man the hunted

    % Phylogénétique ?

  \subsection{Classical Modeling in Biology}

    As previously said, it is now classical in evolutionary biology to model the evolution of cooperation (among any evolutionary trait). Models are numerous and a lot of different frameworks have been proposed to classify cooperative actions~\parencite{Dugatkin2002, Sachs2004, Lehmann2006}. To that end, purely mathematical models dominate the field~\parencite{Servedio2014}. In particular, \emph{population genetics} form a large part of the litterature in evolutionary biology. This field was mostly created by the works of Ronald Fisher, J.B.S. Haldane and Sewal Wright. Fisher was the first to link mendelian inheritance (i.e. the theory on the inheritance of biological traits) with mathematical models of natural selection in his book \textit{The Genetical Theory of Natural Selection}~\parencite{Fisher1930}. Population genetics is concerned with studying the change in frequency of alleles of particular locus in the genotype across generations. Various studies used population genetics to approach evolutionary problems as diverse as 
    
    % -> Parler de kin selection ici
    % -> Good for ultimate explanations
    % -> Introduire modèles de Moran et Wright-Fisher (et probablement équation fondamentale de Fisher. En gros montrer à quel point c'est mathématique ET fondamentale)

    % Reprendre la partie sur population genetics

    In comparison to the genetic modeling of evolution with population genetics, another type of models were created to focus on a phenotypic view of evolutionary biology: \emph{evolutionary game theory} (EGT). Game theory was originally conceive by the mathematician John von Neumann as a way to determine the optimal strategies in a contest between several (usually two) "players". Given what is called a payoff matrix, each player can expect a certain payoff depending on her strategy and those of the other players. In this framework, players are expected to be rational and follow this optimal strategies. One of the most important concepts of game theory is the \emph{Nash equilibrium}~\parencite{Nash1950}. Under such equilibrium, no player can benefit from changing her strategy if the other players keep their strategy. This framework was first adapted to darwinian evolution by John Maynard Smith and George Price under the name of evolutionary game theory~\parencite{MaynardSmith1973}. Under this name is the idea that, rather having players choosing a strategy based on a rational decision, individuals in a population simply play a strategy based on their phenotypes. Therefore, this strategy is now inherited and not chosen and we want to study the evolutionary perspective of the different strategies. To that goal, the payoff of the evolutionary game new corresponds to the fitness value of each strategy. The basic principle of evolutionary game theory is to consider a population of individuals all playing the same strategy. We then imagine the appearance of a rare mutant who plays a different strategy and study the evolutionary dynamics of these two strategies. If the strategy of the mutant has a higher fitness than that of the initial population (called the \emph{resident strategy}), then it will invade the population and may replace the resident strategy. Otherwise, the mutant strategy will be selected against and disappear. If this resident strategy is stable against any mutant strategy, then we say this strategy is evolutionarily stable (ESS)~\parencite{MaynardSmith1973}. Interestingly, all ESS are Nash equilibria (but the opposite may not be true).

    One of the main feature of evolutionary game theory in comparison to population genetics is that it takes into account the influence of one individual's behaviour on the fitness of others. More precisely, the fitness of one individual will depend on the proportions and behaviours of other individuals in the population, which is know as \emph{frequency-dependent selection}. As such, EGT is convenient for taking into consideration the ecological features of particular evolutionary phenomenon~\parencite{Hammerstein1994}. As it models interactions of cooperation and conflicts, it has been of great interest for the study of the evolution of social behaviours~\parencite{Bshary2015}. One such famous study was that of reciprocity in the \emph{Iterated Prisoner's Dilemma}~\parencite{Axelrod1984}. The prisoner's dilemma was already a very famous game theoretic model (of which you can find Axelrod \& Hamilton's payoff matrix in Table~\ref{table:payoffIPD}) but Axelrod \& Hamilton proposed that individuals play an iterated version of this game. In summary, two individuals who play an interaction have a probability to meet again. They show that, under those circumstances, the evolutionary stable strategy is one called \emph{Tit for Tat} (TFT). Under this strategy an individual always cooperate when meeting an opponent for the first time. She then always copy the opponent's last move which means that (1) she retaliates and (2) she does not hold grudges. This strategy was thus presented as a theoretical example of the success of reciprocity~\parencite{Trivers1971}. More generally, a large body of work has been focused again on the evolution of altruism against the appearance of free-riders (defectors) in EGT thanks to the prisoner's dilemma~\parencite{Requejo2013a}.


    \begin{table}[ht]
    \centering
      \caption{\textbf{Payoff matrix of the prisoner's dilemma.}}
      \begin{tabular}{l|c|c}
        & Cooperation & Defection \\
        \hline
        Cooperation & 3,3 & 0,5 \\
        \hline
        Defection & 5,0 & 1,1 \\
        \hline
      \end{tabular}
      \begin{flushleft} The strategy of player A (resp. player B) is symbolized by each row (resp. column). The payoffs to both players are shown such that the payoff of player A (resp. player B) is on the left (resp. right). 
      \end{flushleft}
    \label{table:payoffIPD}
    \end{table}


    As previously said here we are interested in the problem of coordination. For this type of social interaction, as for actually most of social interactions, the prisoner's dilemma is not sufficient to model the evolutionary dynamics of cooperation~\parencite{Alvard2002, Skyrms2004}. This is why there has been some interest on another model: the stag hunt~\parencite{Skyrms2004, Requejo2013a}. We will not go in detail here in describing this game as it was already done (although briefly) in the Introduction. What is important to know is that the major difference with the prisoner's dilemma is the presence of a second ESS which is the cooperative equilibrium. Thus the emphasis of this game is not on the risk of the invasion of a population of cooperators by free-riders (as cooperation is evolutionarily stable) but on the transition from the solitary equilibrium to the cooperative one. In his original book, Skyrms used this framework to study how some hypothesis on how to solve this particular problem. Mainly, he studied the influence of location, signaling and partner choice~\parencite{Skyrms2004}. While the literature on this coordination game is much smaller than that on the prisoner's dilemma, still there has been very interesting work on this subject~\parencite{Santos2006, Pacheco2009, Iyer2016}.

    % -> Mentionner les différents types de jeux ? (coordination games, PD etc... (ya un papier là-dessus))

    But in classical EGT, strategies are discrete and constitute a finite list. This is a particular side of EGT which is focused on what are called matrix games. In comparison, most traits in evolutionary ecology take their values in a continuous domain. We can for exemple think about the size, flowering rate or the investment and allocation of resources~\parencite{McGill2007}. In order to study the evolutionary dynamics of those traits, a continuous version of EGT rose under the name of adaptive dynamics (or sometimes simply continuous-trait game theory). This modeling technique can be seen as a way to combine population genetics, by studying the rate of change of a population's strategy, and EGT, by using the concept of frequency-dependent selection~\parencite{Geritz1998, McGill2007}. More precisely, adaptive dynamics extends on the main notion of EGT: the evolutionary stable strategies. In particular, the concept of ESS as it exists in EGT lacks any knowledge about the convergence of a given strategy. To put it more simply, we know that a strategy which is ESS will not be invaded by any mutant strategy once it has spread in the population. Yet, we do not know if this strategy will actually become established. This later dynamic is defined by \emph{convergence stability}, a notion which defines the fact that a strategy, thanks to multiple small evolutionary steps, will be able to appear. Both concepts of evolutionary stability and convergence stability do not always come together~\parencite{Eshel1981, Eshel1983}. Behind convergence stability is the idea that the shape of the fitness landscape changes as the population's strategy is changing. From this it stems that it may be impossible to evolve an ESS that may be a maximum of fitness.

    Adaptive dynamics have been really useful in understanding complex phenomenons that may not have been studied under classical game theoretical framework. First, they introduced the concept of "branching points". These occurs when a strategy is convergence stable but not evolutionarily stable~\parencite{Geritz1998}. This happens because this strategy acts as evolutionary attractor from afar but, because the fitness landscape changes as the resident strategy changes, this strategy may be a fitness minimum (and thus not ESS). These are called branching points because two different evolving population may coexist and evolve separately. Branching points have thus been used to model the evolution of speciation~\parencite{Geritz2004}. Coevolution has also been widely studied in this field, thanks in particular to the modeling of frequency-dependence. For example, the competitive coevolution of predators and preys, and how branching points influence the apperance of niches in these systems~\parencite{Bowers2003}. But cooperative coevolution has also been studied. Namely, the evolution of mutualism (i.e. interspecific mutualism). The mechanisms that could allow its evolutionary stability against cheaters has thus been studied~\parencite{Ferriere2002, McGill2005}. (TD: Phrasing bien pourri là) Finally, it goes without surprise that altruism has had its fair share of research under adaptive dynamics. Most notably, the ecological aspect of adaptive dynamics (as in game theory in general) allowed to studied how dispersal could be a prominent mechanism to decrease kin competition and thus allow kin selection to effectively enable the evolution of altruism~\parencite{LeGalliard2003, LeGalliard2005}.

    % Main criticism But the thing is beyond an invasion threshold 
    

  % Parler plutôt de Computational Biology ? J'aime bien l'idée de parler de techniques de modélisations particulières qui s'inscrivent finalement dans cette opposition plus générale de Classical VS Computational
  \subsection{Individual-Based Modeling and Evolutionary Robotics}

    The different modeling techniques presented before are sometimes named "classical models"~\parencite{DeAngelis2005, Adami2014} and this how we will refer to them in this manuscript. It is important to understand this is not used in a derogatory fashion to distinguish between the old and the new. This is rather a way to discriminate between the classical models, which are usually purely mathematical analytical models and which have been classical in evolutionary biology, and a range of models which were born thanks to the easier and easier access to computational power. This allowed to approach biological problems in a very different way and, some would argue, to go beyond what is possible with purely mathematical modeling~\parencite{Adami2012}. More generally, computational models allow for the addition of stochastic effects, which are essential to the modeling of most of evolutionary mechanisms (e.g. how population dynamics happen in finite populations) and thus are an important addition to classical models. However, it is important to note that sometimes the line between classical and computational models can sometimes be not so easy to draw and there is a real scientific interest in trying to get the best of both worlds~\parencite{Wilson1998}.

    \subsubsection{Individual-based models.} One such computational method which gathered a strong interest in behavioral ecology are \emph{individual-based models}\footnote{It is important to note that the term \emph{agent-based model} can often be found in the litterature in lieu of individual-based model. Both names refer to the same technique and can be used interchangeably. While individual-based model (IBM) seems to be found more often in biological applications~\parencite{Grimm2005}, no real consensus exists on which term to use. We choose to use the latter throughout this manuscript.}~\parencite{Huston1988}. As stated in the name, the basic principle of an IBM is to focus the modeling on the individual. This is very different from most modeling techniques in ecology where the emphasis is put on the population dynamics~\parencite{Grimm2005}. This does not mean that research in IBMs are not interested in studying population dynamics but rather that these dynamics are studied as a consequence from individual-based interactions. To put it more simply, and in a vocabulary which is strongly rooted in IBMs, the main focus of an IBM is to study the collective dynamics emerging from individual-level interactions (whether with other individuals or the environment). And, more importantly, the particularity of an IBM is that these individuals, which are the building blocks of the system, are adaptive: collective properties arise from these (sometimes simple) adaptive behaviours.

    IBM should not be considered of interest simply because they are thought to be more "realistic" than classical models. Such considerations are doubtful and may hinder the real contributions of IBMs. IBMs are mainly used to study biological phenomenons for which individual variations, and the assumptions that stem from them, are critical. DeAngelis \& Mooij~\parencite{DeAngelis2005} defined five axes along which IBMs were used to model mechanistic details in the variations between individuals:

    \begin{description}
        \item[Spatial variability] {While classical models can and do sometimes take into account spatial organization, IBMs allow to model local heterogeneity between individuals.}
        \item[Life cycle] {The variability of ontogentic history can be model with finer detail by using IBMs than with classical models.}
        \item[Phenotypical variation and plasticity] {DeAngelis \& Mooij showcase the influence of individual experience on the behaviour. In particular, IBMs can be useful to more easily model the interactions between multiple (more than three) different behaviours than classical (game theoretical) models.}
        \item[Learning] {Learning is obviously a consequence of lifetime interactions which is dependent on individual variations.}
        \item[Genetics and evolution] {The computational power of IBMs can help study complex evolutionary genetics.}
    \end{description}

    Thus IBMs have been widely used in behavioural ecology for very diverse applications~\parencite{DeAngelis2005}. For example, the capacity for variation in spatiality has been of great interest for the study of patterns between individuals. Most notably, the formation of groups of animals, whether they are swarms of insects, flocks of birds, herds of mammals or schools of fishes~\parencite{Huth1992, Gueron1996, Couzin2002} relied heavely on the framework put forth by IBMs. In particular, those aggregation behaviours were found to be easily formed by simple local (individual) sets of rules that let emerged complex collective behaviours. This is a perfect illustration of one of the most basic principle of IBMs. But more generally, IBMs have been used to model ecological phenomenon as diverse as forest models for the gap between trees~\parencite{Botkin1972}, movement patterns in prey-predators interactions~\parencite{Smith1991} or differences in foraging between solitary birds and large flocks~\parencite{Toquenaga1995}.

    The focus on individual-level variations brought by IBMs has of course spawned multiple of works in evolutionary ecology. By putting the emphasis on the invidiual, it is thus possible to clearly study how individual adaptations can lead to the fixation of evolutionary traits at the level of the population. In particular, IBMs can be used to model and test proximate mechanisms to study the ultimate evolutionary consequences. From this it stems that the evolution of cooperation, as one of the trademark problems in evolutionary ecology, has alson been studied in very diverse ways in IBMs. We aime here to simply give a few examples of how diverse can IBMs be in that goal. For example, Olson and colleagues have been interested in the evolution of herds and what mechanisms could lead to such costly behaviour. Indeed, while collective aggregation has benefits for all individuals in the collective, it entails also cost for the individuals (i.e. sharing of ressources and increase risk of predation). Thus they wanted to know how could such collective behaviour evolved. They showed how aggregation could be explained by Hamilton's theory of the selfish herd (i.e. an aggregation is created because every individuals try to put the other individuals closer to the predator)~\parencite{Olson2013a} or that a mechanism of predator's confusion could explain this behaviour~\parencite{Olson2013} and it could lead to a co-evolution for both predator and prey of morphology and behaviour~\parencite{Olson2016}. Finally they also revealed that group vigilance could explain the formation of gregarious foraging behaviours without any kinship relations~\parencite{Haley2014, Olson2014a}. Other have been interested in symbiogenesis, which refers to the creation of a new species by the symbiosis of previously independent species. Watson et al. showed with an IBM that such process could occur without any relatedness between the individuals~\parencite{Watson1992}. In comparison, Wilder \& Stanley have been interested in modeling the evolution of altruism, both with an IBM and a classical analytical model, thanks to the ecological structure of niches for the individiduals~\parencite{Wilder2015}.

    % Citer Tarapore2010 ?

    Finally, it is important to note that interplays between IBM and EGT are numerous. Indeed, both methods are focused on phenotypical evolution and how evolutionary dynamics are directly influenced by the ecology of the system. This means that there is a real interest here for behavioural ecology which tends to abstract from the underlying genetics mechanisms. This led to a great number of research bringing together these two fields "with ease". In fact, even the "simplest" form of IBMs allow to relax some of the assumptions that are brought by the classical models of EGT~\parencite{Adami2014}. In particular, it is now classical to take spatial interactions into account (e.g. how individuals are located on a graph) when studying the evolution of (mostly altruistic) cooperation~\parencite{Hauert2004}. But IBMs also give the possibility to more accurately predict the effects of a finite population size (while most EGT use infinite population sizes~\parencite{Hauert2009}). But they also allow to model more finely the effects of mutation on strategies or again the possibility to have stochastic or conditional strategies. All of these ecological parameters can be modeled with classical game theoretical models but with increased mathematical complexity~\parencite{Hauert2009} and most often in simplified situation in comparison to what can be achieved with IBMs (e.g. having no more than three different strategies). In conclusion, IBMs seem to be a natural addition to EGT for the study of more realistic behavioural evolution.

    % Il va falloir caser une réflexion plus générale sur les modèles Alife tels qu'AVIDA et Aevol puisque ce qu'on fait c'est de l'Alife, pas de la modélisation de véritables organismes.
    % Pour ça les modèles sont très divers aussi, par exemple AVIDA et Aevol (sans trop s'appesentir ni sur l'un ni sur l'autre) -> Dire que ya un historique Artificial Life là-dessus : Ou plutôt commencer sur le fait que tu PEUX avoir un côté très artificial life (mais est-ce que c'est vraiment du modeling à ce moment-là ? Oui, débatable)
    %     -> En gros la frontière est compliquée
    % Il y a quand même une différence entre de l'IBM pour modéliser des vrais animaux et de l'IBM Artificial Life (donc en gros un peu ce que dit Webb). Va falloir l'expliquer ça à un moment.
    % IBM are diverse ? (genre AVIDA c'est IBM, AEVOL aussi)
    % -> Sometimes closer to reality -> aevol, sometimes further -> AVIDA
    % Si besoin, dans Floreano2010 ya un peu de biblio sur AVIDA (ça sera bien suffisant !)
    % Digital genetics: unravelling the genetic basis of evolution (à garder de côté pour Avida et ALIFE)
    % The ecology of action selection: insights from artificial life Anil K. Seth Pareil (pour ALIFE, pas AVIDA)


    \subsubsection{Evolutionary robotics.} The final modeling technique we will be talking about here is evolutionary robotics~\parencite{Nolfi2000, Doncieux2015a} (ER). We will not get here into the details of the technical principles of this framework as this was already covered in the Introduction of the manuscript. What we want to talk about here are the reasons for which one could use evolutionary robotics above any other modeling techniques presented before. To summarize quickly what we said in the Introduction, behind evolutionary robotics is the idea of using Darwinian selection and variation to evolve a robot controler and/or morphology~\parencite{Floreano2010, Doncieux2014}. At its core, evolutionary robotics is a design technique, a desire to have a holistic approach of the conception of a robot. Because creating a fully embodied agent is complex, we want evolution to do the work. So why should evolutionary biologists be interested in using ER ?

    The reason is in fact very similar to why IBMs are interesting when it comes to the study of behavioural ecology. Individual-based modeling and evolutionary robotics have actually very resembling features that makes them appealing as a framework: they can both model evolution at the level of the individual. This means that there is a focus in each of these methods on the adaptive behaviour of an individuals given a particular ecological context. This implies that the emphasis is put on phenotypical traits and not genotypical traits. And as in IBM, ER can be used to model spatial organization and local interactions, life cycle dynamics or any kind of phenotypical plasticity~\parencite{Mitri2012} (i.e. the same axes of details as those put forth by DeAngelis \& Mooij for IBMs). This is why ER has the same capacity as IBM to study how behavioural mechanisms can influence the ultimate evolutionary dynamics. Therefore, the threshold between ER and IBMs can sometimes be quite blurry. And even, it can be argued that some studies that have been conducted in ER could have given similar results with a "simpler" IBM~\parencite{Mitri2012}.

    But that does not mean that there is no profound difference that justify the use of ER. First, there probably is an historical difference which causes that still today some may use ER but refer to it as IBM. In particular, both technique, while computational, come from different communities. As we previously said, ER is rooted in the field of robotics, as a design method. In comparison, IBMs were rather created for the design of multi-agent systems and their applications. Both do now represent their own field but these kinds of historical reasons tend to stick for a long time. But the main difference between both these framework does not just stem from this confusion. Rather, we could argue that ER models are IBMs where the individual is an embodied robot~\parencite{Mitri2012}. Consequently, the robots have a physical body which creates another level of interactions with the environment. Sensory information is also part of the robots design, which means that they often have imperfect information about the environment. In comparison, IBMs will often (but not always) provide a global and perfect description of the world. Finally, ER implies that the environment (whether simulated or not) exists in a bounded space, which may not be the case in a part of the IBMs. All of this can have lasting consequences on the dynamics of a particular system. When those physical properties are expected to be of importance for the model, it may be advantageous to use ER rather than IBMs. The work of Mitri and colleagues~\parencite{Mitri2009} provides a rather interesting example of such case where the physical embodiement of the robots were important. While this study was focused on the evolution of communication between simulated robots for foraging, they found that the aggregation of robots on a foraging site provided information that did not require the use of communication.

    In consequence there has been an extensive, though recent, effort in using ER as modeling tool for studies in social behaviours and evolution~\parencite{Mitri2012, Trianni2014b, Eiben2014, Doncieux2015a}. However there still is a lack of communication between communities which implies that ER research sometimes fail to reach those who could be interested by these findings in evolutionary biology community. This also means that some ER researcher may sometimes focus on questions that are of no particular relevance for evolutionary biologists~\parencite{Trianni2014b, Doncieux2015a}. Here we want to do a quick overview of those more significant works in ER that have been interested in modeling the evolution of social behaviours. First, the evolution of communication has been a major subject of interest for ER. This framework has (like IBM) the advantage of modeling at the individual-level, which is adamant in the understanding of population-level evolution of communication. And, as we talked about previously, the added embodiement of individuals in space can have some interesting effects in studying this evolutionary process~\parencite{Mitri2009}. For example, Floreano \& colleagues~\parencite{Floreano2007} showed how communication could evolve differently depending on the relatedness inside a group of foraging robots. Communication could easily evolve when there was strong relatedness (basically robots were clones of each other). In comparison, when individuals were unrelated, deceptive strategies would also evolve. Similarly, Mitri et al.~\parencite{Mitri2011} showed a strong correlation between signal reliability and relatedness between individuals. Wischmann, Floreano and Keller~\parencite{Wischmann2012} produced an interesting study where they that purely historical contingencies could lead to diverging communication strategies in independant replications. They showed in particular that a more or less complex signaling strategy could evolve, where the more complex strategy would not ensure higher performance unless in a competitive setting. Finally, in another study we briefly talked about before, Mitri and colleagues~\parencite{Mitri2009} have focused on the evolution of both communication and suppression of signaling in a competitive environment. Then, still on the subject of communication, Solomon et al.~\parencite{Solomon2012} produced a very compelling study on the evolution of signaling strategies in cooperative robots. They took inspiration from the behaviours of hyenas~\parencite{Smith2010} in their competition against lions for stealing a prey. In particular, they compared the performance of two different signaling strategies: (1) one where all individuals can signal and (2) another one when only a particular hyena, the flag-bearer can signal. The latter proved to achieve higher coordination between individuals. It is interesting to note that this study is one of the rare models in ER where individuals are all unrelated (as we will talk about later). Some have been interested in the evolution of swarming behaviours. We talked about this previously during our presentation of IBMs but Olson \& colleagues have studied the evolutionary mechanisms behind the emergence of herding behaviours~\parencite{Olson2013, Olson2013a, Haley2014}. The reason why we mentionned it in IBMs is because that is how they categorize their work while it could easily be defined as evolutionary robotics. This is another proof of the interplay between both communities. Quite differently, Elfwing \& Doya~\parencite{Elfwing2014a}, have been interested in the evolution of polymorphism, where individuals with different phenotypes coexist in the same population at the same time. More precisely, the simulated an environment which was filled with energy sources that needed to be collected to ensure an individual's survival. Moreover, the individuals had to physically exchange genotypes with other individuals in order to mate and produce offsprings. Given that the individuals could choose between two different strategies, focusing on the energy sources or on tracking mating partners, they revealed the evolution of polymorphic evolutionary stable strategies. Finally, it is interesting to briefly mention the field of open-ended environment-driven evolution because it differs greatly from classic ER in order to better approach natural evolution realism. In particular, the evolutionary process in \emph{online}, which means that there is no separate selection and variation process: individuals are left interacting during this process. Moreover, there is no fitness function as it is classical in ER but rather survival is dependent on the capacity of individuals to exchange their genome (akin to mating) with others. This paradigm is quite new~\parencite{Bredeche2010, Bredeche2012} but some have already been interested in the modeling advantages of this framework in studying the evolution of altruism and dispersal strategies~\parencite{Montanier2011, Montanier2013}.

    Again, as cooperation is one of the major puzzle in the evolution of social behaviours, part of the research in ER has been interested more directly on the evolution of cooperation. In particular, as it is classical in studying the evolution of cooperation, most of the work has been focused on the evolution of altruism. Waibel \& colleagues~\parencite{Waibel2011} have produced a test of Hamilton's rule\footnote{As a quick reminder, Hamilton's rule states that altruism can evolve if the following inequation is respected: $rb > c$, where $b$ and $c$ are respectively the fitness benefits on the recipient and costs on the actor of the cooperative action and $r$ is the relatedness between the recipient and the actor.}~\parencite{Hamilton1964} for the evolution of altruism in a group of robots. In particular, they use a foraging task to quantitatively alter the costs and benefits of the cooperation action in order to test the influence of the coefficient of relatedness on the evolution of altruism. They show that, in this context, Hamilton's rule is indeed quantitatively verified. Similarly in another study they have been interested on the influence of the genetic composition of groups of robots and the level of selection in the evolution of cooperation~\parencite{Waibel2009}. In particular, the study the differences between groups of related or unrelated individuals and between selection at the level of the individual or of the group. As could be expected, teams where individuals were strongly related performed better in tasks which required cooperation. Montanier and Bredeche have also studied the evolution of altruism but in an open-ended environment-driven context (as presented before). In particular, in one study~\parencite{Montanier2011}, they have studied the evolution of altruism under a situation of tragedy of commons~\parencite{Hardin1968}, where individuals have to share a common limited ressources so that some individuals have to sacrifice themselves for the population to survive. They show that altruism can evolve under sufficient genetic relatedness. In another similar study~\parencite{Montanier2013}, the confirm a negative correlation between the evolution of altruism and spatial dispersion. To put it more simply, under low dispersion, individuals will tend to interact with individuals that are more genetically related to them which can favor kin selection~\parencite{VanBaalen1998}. Others have been interested in the evolution of division of labour (or specialization), where individuals are able to divide between different roles which is an impressive display of cooperation. These studies have been in particular interested in the evolution of specialization in ants. For example, Ferrante et al.~\parencite{Ferrante2015} have produced an evolutionary robotics model of task-partioning (where a task has to be done in sequence) in leafcutter ants. In this species, some ants are tasked with cutting leaves and leave them in a storage from which other ants collect the leaves and bring them back to the nest. They showed that division of labour could evolve when particular environmental features (a slope in their case) could be exploited to reduce switching costs. They thus confirmed the hypothesis on the role of switching costs in the evolution of specialization~\parencite{Duarte2011}. Finally, it is interesting to talk again about the work of Solomon et al.~\parencite{Solomon2012} as they have been interested in this study on the evolution of cooperation. More importantly, while they focus on the evolution of signaling strategies, these strategies are used in trying to evolve efficient coordination, which is relevant to the subject of this manuscript. In particular, they also use a group of unrelated individuals which is very rare in ER models. They are among the few to have been interested in the evolution of coordination among unrelated individuals. 


  \subsection{Conclusions}

    One thing that should now be clear is that we do not claim that any model to be fundamentally better than the others. In the contrary, and even if there has been a progression in the way we deal with evolutionary processes, each model is useful in its own way to study a particular problem given a set of assumptions and a level of abstraction. Even considering a particular model to be globally more realistic can be tricky; some models simply represent more accurately a defined aspect of the phenomenon. Mitri and colleagues~\parencite{Mitri2012} chose to classify different models for the study of social behaviours according to their situatedness, which they defined as "the extent to which individuals are embedded in an environment that they can sense and modify" (see Figure TODO).

    In the case of the problem posed in this chapter, we need a framework which could model the mechanistic constraints in the evolution of coordinative behaviours. In particular, the basis of our study is the model of the stag hunt. This could beg the question of why not simply use EGT. The answer is that the models in EGT tend to make critical assumptions on how strategies evolve. In particular, in the case of the evolution of cooperation, the problem of evolving coordination is only rarely mentioned~\parencite{Forber2015}. We just assume that both coordination and cooperation evolve together. Yet, as we previously talked about in the Introduction, without the simultaneous evolution of cooperation of all individuals, no benefits can be reaped from a collective actions. Moreover, evolving coordination implies the emergence of a complex behaviour where the individuals are capable to react to each other in order to act accordingly. This means that, in comparison to what is often assumed in EGT (and adaptive dynamics), the mutations necessary to switch from a solitary behaviour to a cooperative one are not easily available. This can have substantial effects on the ultimate evolution of cooperation. Studying these effects require a model which can study the mechanistic constraints of these coordinative behaviours: this is the only way to truly consider the proximate causes of cooperation in the stag hunt.

    In consequence, we need an individual-based study of adaptive behaviours; this means that a classical IBM could in theory be sufficient to that end. However, we find the point made by Mitri et al.~\parencite{Mitri2012} with relation to the advantages of ER in comparison to IBM to be quite accurate. In particular we are interested in the mechanics of coordinative behaviour. But the manner in which individuals coordinate can be really diverse. Observing these variations in coordinative strategies can be of great interest in order to study the effect of behaviours on the evolution of cooperation. When the individuals are embodied as they are in ER, the range of their possibilities in the way to coordinate is wider. Curiously, this also means that the coordinative behaviours may be simpler and may not require any particular sensory capabilities or the capacity to communicate. In any way, we do not want to restrict the diversity of behaviours available. Finally, it is important to make clear that we do not use any physical robots. Real robots would give the advantage of ensuring that any result is not imputable to artefacts of the simulation. This would also easily provide real physics (like friction and physical interactions) to the study; we however do not believe that to be of utmost importance in our case. At the moment, experiments on physical robots are unfortunately too time-consuming to consider using them to such scope~\parencite{Mitri2012, Doncieux2015}.



    % Là faudrait caser un jour une réflexion sur l'abstraction de notre modèle et l'approche animat. En gros répondre à Webb.
